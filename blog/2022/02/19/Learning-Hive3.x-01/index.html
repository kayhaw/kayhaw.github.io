<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kay Haw&#39;s Blog Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kay Haw&#39;s Blog Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Hive 3.xå­¦ä¹ ç¬”è®°(1) | Kay Haw&#x27;s Blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://kayhaw.github.io/blog/2022/02/19/Learning-Hive3.x-01"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Hive 3.xå­¦ä¹ ç¬”è®°(1) | Kay Haw&#x27;s Blog"><meta data-react-helmet="true" name="description" content="Hive 3.1.2å­¦ä¹ ç¬”è®°(1)ï¼šHiveç®€ä»‹ä¸å®‰è£…"><meta data-react-helmet="true" property="og:description" content="Hive 3.1.2å­¦ä¹ ç¬”è®°(1)ï¼šHiveç®€ä»‹ä¸å®‰è£…"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-02-19T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/kayhaw"><meta data-react-helmet="true" property="article:tag" content="Hive,BigData"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://kayhaw.github.io/blog/2022/02/19/Learning-Hive3.x-01"><link data-react-helmet="true" rel="alternate" href="https://kayhaw.github.io/blog/2022/02/19/Learning-Hive3.x-01" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://kayhaw.github.io/blog/2022/02/19/Learning-Hive3.x-01" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.0138175c.css">
<link rel="preload" href="/assets/js/runtime~main.5c7121e2.js" as="script">
<link rel="preload" href="/assets/js/main.eedec005.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Kay Haw&#x27;s Blog" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Kay Haw&#x27;s Blog" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Kay Haw&#x27;s Blog</b></a><a class="navbar__item navbar__link" href="/docs/intro">è¯»ä¹¦ç¬”è®°</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kayhaw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2022/02/20/Learning-Hive3.x-02">Hive 3.xå­¦ä¹ ç¬”è®°(2)</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/2022/02/19/Learning-Hive3.x-01">Hive 3.xå­¦ä¹ ç¬”è®°(1)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2022/02/19/WorkJournal">2022å¹´2æœˆä»½å·¥ä½œæ€»ç»“</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2022/02/15/NetworkingSummary-01">è®¡ç®—æœºç½‘ç»œçŸ¥è¯†æ€»ç»“(1)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2022/02/10/Learning-Hadoop3.x-06">Hadoop 3.xå­¦ä¹ ç¬”è®°(6)</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Hive 3.xå­¦ä¹ ç¬”è®°(1)</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2022-02-19T00:00:00.000Z" itemprop="datePublished">February 19, 2022</time> Â· 5 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><a href="https://github.com/kayhaw" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_1yU8" src="https://avatars.githubusercontent.com/u/16892835?v=4" alt="ä½•è½²"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kayhaw" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">ä½•è½²</span></a></div><small class="avatar__subtitle" itemprop="description">Never settle down</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>ğŸ“Hive 3.1.2å­¦ä¹ ç¬”è®°ç¬¬1ç¯‡ï¼šHiveç®€ä»‹ä¸å®‰è£…ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="hiveç®€ä»‹"></a>Hiveç®€ä»‹<a class="hash-link" href="#hiveç®€ä»‹" title="Direct link to heading">#</a></h2><p>Hiveæ˜¯åŸºäºHadoopçš„<strong>æ•°æ®ä»“åº“å·¥å…·(éä¼ ç»Ÿæ„ä¹‰ä¸Šæ•°æ®åº“)</strong>ï¼Œç”±Facebookå¼€æºç”¨äºè§£å†³æµ·é‡ç»“æ„åŒ–æ—¥å¿—ï¼ŒHiveå°†ç»“æ„åŒ–æ•°æ®æ–‡ä»¶æ˜ å°„ä¸ºä¸€å¼ è¡¨ï¼Œå¹¶æä¾›ç±»SQL(HQL)æŸ¥è¯¢åŠŸèƒ½ï¼Œå…¶æœ¬è´¨æ˜¯å°†HQLç¿»è¯‘ä¸ºMapReduceç¨‹åºã€‚</p><p>ğŸ˜„ä¼˜ç‚¹ï¼š</p><ol><li>HQLç±»ä¼¼SQLï¼Œä½¿ç”¨èµ·æ¥å®¹æ˜“ä¸Šæ‰‹ï¼›</li><li>é¿å…å†™MRç¨‹åºï¼Œé™ä½å­¦ä¹ æˆæœ¬ï¼›</li><li>æ‰§è¡Œå»¶è¿Ÿé«˜ï¼Œå› æ­¤é€‚ç”¨äºå¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜ä¸”æ•°æ®é‡å¤§çš„åœºæ™¯ï¼›</li><li>æ”¯æŒè‡ªå®šä¹‰å‡½æ•°ã€‚</li></ol><p>ğŸ˜ ç¼ºç‚¹ï¼š</p><ol><li>HQLæ— æ³•è¡¨è¾¾è¿­ä»£å¼ç®—æ³•ï¼Œå—é™äºMapReduceæµç¨‹ï¼›</li><li>æ‰§è¡Œæ•ˆç‡ä½ï¼Œç”ŸæˆMapReduceä½œä¸šä¸å¤Ÿæ™ºèƒ½åŒ–ï¼›</li><li>è°ƒä¼˜å›°éš¾ã€‚</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="hiveæ¶æ„"></a>Hiveæ¶æ„<a class="hash-link" href="#hiveæ¶æ„" title="Direct link to heading">#</a></h3><p>ä¸Metastoreäº¤äº’è·å–æ•°æ®æ–‡ä»¶åœ¨HDFSä¸Šçš„ä½ç½®ï¼Œç¼–å†™çš„HQLä¾æ¬¡ç»è¿‡è§£æå™¨ã€ç¼–è¯‘å™¨ã€ä¼˜åŒ–å™¨å’Œæ‰§è¡Œå™¨ç¿»è¯‘ä¸ºMapReduceç¨‹åºæ‰§è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><ul><li><strong>è§£æå™¨</strong>ï¼šå°†HQLè½¬ä¸ºä¸ºæŠ½è±¡è¯­æ³•æ ‘ASTï¼Œå¹¶è¿›è¡Œè¯­æ³•åˆ†æï¼›</li><li><strong>ç¼–è¯‘å™¨</strong>ï¼šç”±ASTç”Ÿæˆé€»è¾‘æ‰§è¡Œè®¡åˆ’ï¼›</li><li><strong>ä¼˜åŒ–å™¨</strong>ï¼šä¼˜åŒ–é€»è¾‘æ‰§è¡Œè®¡åˆ’ï¼›</li><li><strong>æ‰§è¡Œå™¨</strong>ï¼šå°†é€»è¾‘æ‰§è¡Œè®¡åˆ’è½¬ä¸ºå¯ä»¥è¿è¡Œçš„ç‰©ç†è®¡åˆ’(MapReduce/Sparkç¨‹åº)ã€‚</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="hiveç‰¹æ€§"></a>Hiveç‰¹æ€§<a class="hash-link" href="#hiveç‰¹æ€§" title="Direct link to heading">#</a></h3><ol><li><strong>æ•°æ®æ›´æ–°</strong>ï¼šHiveä¸ºæ•°æ®ä»“åº“è€Œè®¾è®¡ï¼Œé€‚ç”¨è¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œå› æ­¤Hive<strong>ä¸å»ºè®®</strong>æ”¹å†™æ•°æ®ï¼Œè€Œä¼ ç»Ÿæ•°æ®åº“ç»å¸¸ä¿®æ”¹ï¼›</li><li><strong>æ‰§è¡Œå»¶è¿Ÿ</strong>ï¼šHiveæŸ¥è¯¢æ•°æ®æ—¶æ²¡æœ‰ç´¢å¼•éœ€è¦æ‰«ææ•´ä¸ªè¡¨ï¼Œå¹¶ä¸”MapReduceæ¡†æ¶ä¹Ÿæœ‰è¾ƒé«˜å»¶è¿Ÿï¼›ä½†åœ¨å¤§è§„æ¨¡æ•°æ®ä¸‹æ‰èƒ½ä½“ç°Hiveä¼˜åŠ¿ï¼›</li><li><strong>æ•°æ®è§„æ¨¡</strong>ï¼šHiveåŸºäºHadoopé›†ç¾¤å¯ä»¥å¤„ç†å¤§è§„æ¨¡æ•°æ®</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="hiveå®‰è£…"></a>Hiveå®‰è£…<a class="hash-link" href="#hiveå®‰è£…" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="å®‰è£…åŒ…"></a>å®‰è£…åŒ…<a class="hash-link" href="#å®‰è£…åŒ…" title="Direct link to heading">#</a></h3><ol><li><a href="http://archive.apache.org/dist/hive/hive-3.1.2/apache-hive-3.1.2-bin.tar.gz" target="_blank" rel="noopener noreferrer">apache-hive-3.1.2-bin.tar.gz</a></li><li><a href="https://downloads.mysql.com/archives/community/" target="_blank" rel="noopener noreferrer">mysql-5.7.28-1.el7.x86_64.rpm-bundle.tar</a></li></ol><img style="width:80%;height:80%" src="/img/blog/HiveNotes/mysql-5.7.28-bundle.png" title="mysql-5.7.28-1.el7.x86_64.rpm-bundle.tar"><ol start="3"><li><a href="https://downloads.mysql.com/archives/c-j/" target="_blank" rel="noopener noreferrer">mysql-connector-java-5.1.37.tar.gz</a></li></ol><img style="width:80%;height:80%" src="/img/blog/HiveNotes/mysql-connector-java-5.1.37.png" title="mysql-connector-java-5.1.37"><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤<a class="hash-link" href="#å®‰è£…æ­¥éª¤" title="Direct link to heading">#</a></h3><ol><li>å°†apache-hive-3.1.2-bin.tar.gzè§£å‹åˆ°/opt/moduleç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸ºapache-hive-3.1.2ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -zxvf /opt/software/apache-hive-3.1.2-bin.tar.gz -C /opt/module/</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> /opt/module/apache-hive-3.1.2-bin/ /opt/module/apache-hive-3.1.2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="2"><li>æ·»åŠ å¦‚ä¸‹ç¯å¢ƒå˜é‡å¹¶ä½¿ä¹‹ç”Ÿæ•ˆ(<strong><code>source /etc/profile.d/my_env.sh</code></strong>)ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">/etc/profile.d/my_env.sh</div><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># HIVE_HOME</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">HIVE_HOME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/module/apache-hive-3.1.2</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token builtin class-name">:</span><span class="token variable" style="color:#36acaa">$HIVE_HOME</span><span class="token plain">/bin</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="3"><li>è§£å†³æ—¥å¿—jaråŒ…å†²çªï¼Œå°†å…¶é‡å‘½åä½¿ä¹‹æ— æ³•åŠ è½½ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$HIVE_HOME</span><span class="token plain">/lib/log4j-slf4j-impl-2.10.0.jar </span><span class="token variable" style="color:#36acaa">$HIVE_HOME</span><span class="token plain">/lib/log4j-slf4j-impl-2.10.0.bak</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="åˆè¯•hive"></a>åˆè¯•Hive<a class="hash-link" href="#åˆè¯•hive" title="Direct link to heading">#</a></h3><ol><li><strong>åˆå§‹åŒ–å…ƒæ•°æ®åº“</strong>ï¼š<code>schematool -dbType derby -initSchema</code>ï¼›</li><li>å¯åŠ¨hiveï¼Œç›´æ¥è¾“å…¥<code>hive</code>å³å¯ï¼Œäº¤äº’ç•Œé¢ç±»ä¼¼MySQLå®¢æˆ·ç«¯å¯ä»¥æ‰§è¡ŒHQLï¼›</li><li>æ–°å»ºsshä¼šè¯ä¹Ÿæ‰§è¡Œ<code>hive</code>å‘½ä»¤ï¼Œå‘ç°å¦‚ä¸‹æŠ¥é”™ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Caused by: ERROR XSDB6: Another instance of Derby may have already booted </span></span><span class="token-line" style="color:#393A34"><span class="token plain">the database /opt/module/hive/metastore_db.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> at </span></span><span class="token-line" style="color:#393A34"><span class="token plain">org.apache.derby.iapi.error.StandardException.newException</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Unknown </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Source</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> at </span></span><span class="token-line" style="color:#393A34"><span class="token plain">org.apache.derby.iapi.error.StandardException.newException</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Unknown Source</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> at </span></span><span class="token-line" style="color:#393A34"><span class="token plain">org.apache.derby.impl.store.raw.data.BaseDataFileFactory.privGetJBMSLockO</span></span><span class="token-line" style="color:#393A34"><span class="token plain">nDB</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Unknown Source</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> at </span></span><span class="token-line" style="color:#393A34"><span class="token plain">org.apache.derby.impl.store.raw.data.BaseDataFileFactory.run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Unknown </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Source</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç”±äºHiveé»˜è®¤ä½¿ç”¨derbyä½œä¸ºå…ƒæ•°æ®åº“ï¼Œä½†æ­¤æ—¶ä¸æ”¯æŒå…¶ä»–ä¼šè¯çš„å…±äº«ï¼Œå› æ­¤æ¥ä¸‹æ¥å°†å…ƒæ•°æ®åº“ç”±derbyæ”¹ä¸ºMySQLã€‚</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>åˆæ¬¡å¯åŠ¨æŠ¥é”™</h5></div><div class="admonition-content"><p>åˆæ¬¡å¯åŠ¨æ—¶æŠ¥å¦‚ä¸‹é”™è¯¯ï¼ŒåŸå› æ˜¯Hadoopå’ŒHiveä¸­guavaç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œå°†<code>${HADOOP_HOME}/share/hadoop/common/lib/</code>ä¸‹çš„é«˜ç‰ˆæœ¬jarå¤åˆ¶åˆ°<code>${HIVE_HOME}/lib/</code>ä¸‹å¹¶å°†ä½ç‰ˆæœ¬jaråŒ…åˆ é™¤ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Exception </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> thread </span><span class="token string" style="color:#e3116c">&quot;main&quot;</span><span class="token plain"> java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ZLjava/lang/String</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">Ljava/lang/Object</span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">V</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.conf.Configuration.set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Configuration.java:1357</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.conf.Configuration.set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Configuration.java:1338</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.mapred.JobConf.setJar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">JobConf.java:518</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.mapred.JobConf.setJarByClass</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">JobConf.java:536</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.mapred.JobConf.</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">init</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">JobConf.java:430</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.hive.conf.HiveConf.initialize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HiveConf.java:5141</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.hive.conf.HiveConf.</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">init</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HiveConf.java:5104</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hive.beeline.HiveSchemaTool.</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">init</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HiveSchemaTool.java:96</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hive.beeline.HiveSchemaTool.main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HiveSchemaTool.java:1473</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at sun.reflect.NativeMethodAccessorImpl.invoke0</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Native Method</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at sun.reflect.NativeMethodAccessorImpl.invoke</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NativeMethodAccessorImpl.java:62</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at sun.reflect.DelegatingMethodAccessorImpl.invoke</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DelegatingMethodAccessorImpl.java:43</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at java.lang.reflect.Method.invoke</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Method.java:498</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.util.RunJar.run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">RunJar.java:318</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at org.apache.hadoop.util.RunJar.main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">RunJar.java:232</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="æ›´æ¢å…ƒæ•°æ®åº“"></a>æ›´æ¢å…ƒæ•°æ®åº“<a class="hash-link" href="#æ›´æ¢å…ƒæ•°æ®åº“" title="Direct link to heading">#</a></h3><p>é¦–å…ˆæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤å®‰è£…MySQLï¼š</p><ol><li>æ£€æŸ¥å¹¶åˆ é™¤CentOSè‡ªå¸¦çš„Mariadbç›¸å…³ä¾èµ–ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -qa</span><span class="token operator" style="color:#393A34">|</span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> mariadb</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -e --nodeps mariadb-libs</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="2"><li>è§£å‹mysql-5.7.28-1.el7.x86_64.rpm-bundle.tarï¼Œå¾—åˆ°å¤šä¸ªrmpåŒ…å¹¶å®‰è£…ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -xf mysql-5.7.28-1.el7.x86_64.rpm-bundle.tar</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">## æŒ‰åºæ‰§è¡Œï¼Œåé¢çš„ä¾èµ–äºå‰é¢</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -ivh mysql-community-common-5.7.28-1.el7.x86_64.rpm</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -ivh mysql-community-libs-5.7.28-1.el7.x86_64.rpm</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -ivh mysql-community-libs-compat-5.7.28-1.el7.x86_64.rpm</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -ivh mysql-community-client-5.7.28-1.el7.x86_64.rpm</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -ivh mysql-community-server-5.7.28-1.el7.x86_64.rpm</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="3"><li>åˆ é™¤<code>/etc/my.cnf</code>æ–‡ä»¶ä¸­datadirå‚æ•°æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹</li><li>åˆå§‹åŒ–MySQLæ•°æ®åº“ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> mysqld --initialize --user</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">mysql</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="5"><li>åœ¨MySQLæ—¥å¿—ä¸­æ‰¾åˆ°ç”Ÿæˆçš„rootå¯†ç (æœ¬æ¬¡ä¸º<code>Mzn7/gl.i!-4</code>)ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /var/log/mysqld.log</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-18T10:29:24.176884Z </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Warning</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">see documentation </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> details</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-18T10:29:24.545101Z </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Warning</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> InnoDB: New log files created, </span><span class="token assign-left variable" style="color:#36acaa">LSN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">45790</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-18T10:29:24.593907Z </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Warning</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> InnoDB: Creating foreign key constraint system tables.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-18T10:29:24.655737Z </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Warning</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> No existing UUID has been found, so we assume that this is the first </span><span class="token function" style="color:#d73a49">time</span><span class="token plain"> that this server has been started. Generating a new UUID: a49026e8-90a5-11ec-af0f-000c293a2d67.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-18T10:29:24.658007Z </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Warning</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Gtid table is not ready to be used. Table </span><span class="token string" style="color:#e3116c">&#x27;mysql.gtid_executed&#x27;</span><span class="token plain"> cannot be opened.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-18T10:29:25.387668Z </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Warning</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> CA certificate ca.pem is self signed.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-18T10:29:26.020911Z </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Note</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> A temporary password is generated </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> root@localhost: Mzn7/gl.i</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">-4</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="6"><li>å¯åŠ¨MySQLæœåŠ¡ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl start mysqld</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="7"><li>ä¿®æ”¹rootå¯†ç ä¸º<code>root123</code>å¹¶è®¾ç½®rootè´¦å·ä»¥ä»»æ„ipç™»å½•ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kayhaw@hadoop102 module</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ mysql -u root -p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter password: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">è¾“å…¥Mzn7/gl.i</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">-4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin class-name">set</span><span class="token plain"> password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;root123&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> update mysql.user </span><span class="token builtin class-name">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">host</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;%&#x27;</span><span class="token plain"> where </span><span class="token assign-left variable" style="color:#36acaa">user</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;root&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> flush privileges</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç°åœ¨MySQLå·²ç»é…ç½®å¥½äº†ï¼Œæ¥ä¸‹æ¥è¿›è¡ŒHiveç›¸å…³é…ç½®ï¼š</p><ol><li>å°†MySQL JDBCé©±åŠ¨æ‹·è´åˆ°Hiveçš„libç›®å½•ä¸‹ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -zxvf mysql-connector-java-5.1.37.tar.gz</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> mysql-connector-java-5.1.37/mysql-connector-java-5.1.37-bin.jar </span><span class="token variable" style="color:#36acaa">$HIVE_HOME</span><span class="token plain">/lib</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="2"><li>åœ¨<code>$HIVE_HOME/conf</code>ç›®å½•ä¸‹æ–°å»º<code>hive-site.xml</code>æ–‡ä»¶å¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">$HIVE_HOME/conf/hive-site.xml</div><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot;?&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- jdbc è¿æ¥çš„ URL --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">javax.jdo.option.ConnectionURL</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">jdbc:mysql://hadoop102:3306/metastore?useSSL=false</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- jdbc è¿æ¥çš„ Driver--&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">javax.jdo.option.ConnectionDriverName</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.mysql.jdbc.Driver</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- jdbc è¿æ¥çš„ username--&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">javax.jdo.option.ConnectionUserName</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">root</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- jdbc è¿æ¥çš„ password --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">javax.jdo.option.ConnectionPassword</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">root123</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Hive å…ƒæ•°æ®å­˜å‚¨ç‰ˆæœ¬çš„éªŒè¯ --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hive.metastore.schema.verification</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--å…ƒæ•°æ®å­˜å‚¨æˆæƒ--&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hive.metastore.event.db.notification.api.auth</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Hive é»˜è®¤åœ¨ HDFS çš„å·¥ä½œç›®å½• --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hive.metastore.warehouse.dir</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/user/hive/warehouse</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="3"><li>ç™»å½•MySQLå¹¶åˆ›å»ºHiveå…ƒæ•°æ®åº“<code>metastore</code>ï¼Œ<strong>æ³¨æ„åç§°å’Œé…ç½®æ–‡ä»¶ä¸­çš„ä¿æŒä¸€è‡´</strong>ã€‚</li><li>åˆå§‹åŒ–Hiveå…ƒæ•°æ®åº“ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">schematool -initSchema -dbType mysql -verbose</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="å¼€å¯metastoreæœåŠ¡"></a>å¼€å¯metastoreæœåŠ¡<a class="hash-link" href="#å¼€å¯metastoreæœåŠ¡" title="Direct link to heading">#</a></h3><p>åˆ°ç›®å‰ä¸ºæ­¢åªæ˜¯åœ¨æœ¬åœ°ä½¿ç”¨hiveå‘½ä»¤å¼€å¯ä¼šè¯è¿›è¡Œäº¤äº’ï¼Œæ¥ä¸‹æ¥å¼€å¯å…ƒæ•°æ®æœåŠ¡è®©è¿œç¨‹å®¢æˆ·ç«¯èƒ½å¤Ÿè®¿é—®HiveæœåŠ¡ï¼›</p><ol><li><code>hive-site.xml</code>æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">$HIVE_HOME/conf/hive-site.xml</div><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- æŒ‡å®šå­˜å‚¨å…ƒæ•°æ®è¦è¿æ¥çš„åœ°å€ --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hive.metastore.uris</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">thrift://hadoop102:9083</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="2"><li>å¯åŠ¨metastoreæœåŠ¡ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kayhaw@hadoop102 conf</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ hive --service metastore</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-19 </span><span class="token number" style="color:#36acaa">23</span><span class="token plain">:32:28: Starting Hive Metastore Server</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ³¨æ„å‘½ä»¤å¼€å¯å‰å°è¿›ç¨‹æœåŠ¡ï¼Œä¸èƒ½é€€å‡ºï¼Œæ­¤æ—¶é€šè¿‡<code>hive</code>å‘½ä»¤è®¿é—®çš„å…ƒæ•°æ®æœåŠ¡ç”±hadoop102:9083æä¾›ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="å¼€å¯hiveserver2æœåŠ¡"></a>å¼€å¯hiveserver2æœåŠ¡<a class="hash-link" href="#å¼€å¯hiveserver2æœåŠ¡" title="Direct link to heading">#</a></h3><p>ä¸ºäº†è®©è¿œç¨‹å®¢æˆ·ç«¯èƒ½ä»¥JDBCæ–¹å¼è®¿é—®Hiveï¼Œè¿˜éœ€è¦å¼€å¯hiveserver2æœåŠ¡ï¼š</p><ol><li><code>hive-site.xml</code>æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">$HIVE_HOME/conf/hive-site.xml</div><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- æŒ‡å®š hiveserver2 è¿æ¥çš„ host --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hive.server2.thrift.bind.host</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hadoop102</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- æŒ‡å®š hiveserver2 è¿æ¥çš„ç«¯å£å· --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hive.server2.thrift.port</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">10000</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="2"><li>å¯åŠ¨hiveserver2æœåŠ¡ï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kayhaw@hadoop102 conf</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ hive --service metastore</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-02-19 </span><span class="token number" style="color:#36acaa">23</span><span class="token plain">:32:28: Starting Hive Metastore Server</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="3"><li>ä½¿ç”¨beelineè¿æ¥hiveï¼š</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">beeline -u jdbc:hive2://hadoop102:10000 -n kayhaw</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Connecting to jdbc:hive2://hadoop102:10000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Connected to: Apache Hive </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">version </span><span class="token number" style="color:#36acaa">3.1</span><span class="token plain">.2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Driver: Hive JDBC </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">version </span><span class="token number" style="color:#36acaa">3.1</span><span class="token plain">.2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction isolation: TRANSACTION_REPEATABLE_READ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Beeline version </span><span class="token number" style="color:#36acaa">3.1</span><span class="token plain">.2 by Apache Hive</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿™é‡Œé€šè¿‡beelineè¿æ¥Hiveæ—¶æŠ¥é”™<code>Error: Could not open client transport with JDBC Uri: jdbc:hive2://hadoop102:10000: Failed to open new session: java.lang.RuntimeException</code>ï¼Œéœ€è¦ä¿®æ”¹Hadoopä¸­çš„core-site.xmlæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹å<strong>é‡å¯HadoopæœåŠ¡</strong>ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- kayhawæ¢æˆå®é™…ç™»å½•ç”¨æˆ·å --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hadoop.proxyuser.kayhaw.hosts</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">*</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hadoop.proxyuser.kayhaw.groups</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">*</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="å¯åŠ¨æœåŠ¡è„šæœ¬"></a>å¯åŠ¨æœåŠ¡è„šæœ¬<a class="hash-link" href="#å¯åŠ¨æœåŠ¡è„šæœ¬" title="Direct link to heading">#</a></h3><p>ä¸ºäº†å¿«é€Ÿå¯åŠ¨metastoreå’Œhiveserver2æœåŠ¡ï¼Œå°è£…å¦‚ä¸‹è„šæœ¬ï¼š</p><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">$HOME/bin/hiveservice.sh</div><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">HIVE_LOG_DIR</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$HIVE_HOME</span><span class="token plain">/logs</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> -d </span><span class="token variable" style="color:#36acaa">$HIVE_LOG_DIR</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p </span><span class="token variable" style="color:#36acaa">$HIVE_LOG_DIR</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#æ£€æŸ¥è¿›ç¨‹æ˜¯å¦è¿è¡Œæ­£å¸¸ï¼Œå‚æ•° 1 ä¸ºè¿›ç¨‹åï¼Œå‚æ•° 2 ä¸ºè¿›ç¨‹ç«¯å£</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-name function" style="color:#d73a49">check_process</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">pid</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">ps</span><span class="token variable" style="color:#36acaa"> -ef </span><span class="token variable operator file-descriptor important" style="color:#393A34">2</span><span class="token variable operator" style="color:#393A34">&gt;</span><span class="token variable" style="color:#36acaa">/dev/null </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">grep</span><span class="token variable" style="color:#36acaa"> -v </span><span class="token variable function" style="color:#d73a49">grep</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">grep</span><span class="token variable" style="color:#36acaa"> -i $1 </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">awk</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable string" style="color:#e3116c">&#x27;{print </span><span class="token variable string variable" style="color:#36acaa">$2</span><span class="token variable string" style="color:#e3116c">}&#x27;</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ppid</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">netstat</span><span class="token variable" style="color:#36acaa"> -nltp </span><span class="token variable operator file-descriptor important" style="color:#393A34">2</span><span class="token variable operator" style="color:#393A34">&gt;</span><span class="token variable" style="color:#36acaa">/dev/null </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">grep</span><span class="token variable" style="color:#36acaa"> $2 </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">awk</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable string" style="color:#e3116c">&#x27;{print </span><span class="token variable string variable" style="color:#36acaa">$7</span><span class="token variable string" style="color:#e3116c">}&#x27;</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">cut</span><span class="token variable" style="color:#36acaa"> -d </span><span class="token variable string" style="color:#e3116c">&#x27;/&#x27;</span><span class="token variable" style="color:#36acaa"> -f </span><span class="token variable number" style="color:#36acaa">1</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$pid</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$pid</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">~ </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$ppid</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$ppid</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token builtin class-name">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-name function" style="color:#d73a49">hive_start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">metapid</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">check_process HiveMetastore </span><span class="token variable number" style="color:#36acaa">9083</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">cmd</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;nohup hive --service metastore &gt;</span><span class="token string variable" style="color:#36acaa">$HIVE_LOG_DIR</span><span class="token string" style="color:#e3116c">/metastore.log 2&gt;&amp;1 &amp;&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> -z </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$metapid</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">eval</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$cmd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Metastroe æœåŠ¡å·²å¯åŠ¨&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">server2pid</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">check_process HiveServer2 </span><span class="token variable number" style="color:#36acaa">10000</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">cmd</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;nohup hiveserver2 &gt;</span><span class="token string variable" style="color:#36acaa">$HIVE_LOG_DIR</span><span class="token string" style="color:#e3116c">/hiveServer2.log 2&gt;&amp;1 &amp;&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> -z </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$server2pid</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">eval</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$cmd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HiveServer2 æœåŠ¡å·²å¯åŠ¨&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-name function" style="color:#d73a49">hive_stop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">metapid</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">check_process HiveMetastore </span><span class="token variable number" style="color:#36acaa">9083</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$metapid</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kill</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$metapid</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Metastore æœåŠ¡æœªå¯åŠ¨&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">server2pid</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">check_process HiveServer2 </span><span class="token variable number" style="color:#36acaa">10000</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$server2pid</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kill</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$server2pid</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HiveServer2 æœåŠ¡æœªå¯åŠ¨&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;start&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> hive_start</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;stop&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> hive_stop</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;restart&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> hive_stop</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token function" style="color:#d73a49">sleep</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> hive_start</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> check_process HiveMetastore </span><span class="token number" style="color:#36acaa">9083</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/dev/null </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Metastore æœåŠ¡è¿è¡Œæ­£å¸¸&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Metastore æœåŠ¡è¿è¡Œå¼‚å¸¸&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> check_process HiveServer2 </span><span class="token number" style="color:#36acaa">10000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/dev/null </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HiveServer2 æœåŠ¡è¿è¡Œæ­£å¸¸&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HiveServer2 æœåŠ¡è¿è¡Œå¼‚å¸¸&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> Invalid Args</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Usage: &#x27;</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">basename</span><span class="token variable" style="color:#36acaa"> $0</span><span class="token variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">&#x27; start|stop|restart|status&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">esac</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="æ€»ç»“"></a>æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">#</a></h2><ol><li>å®‰è£…Hiveä¹‹å‰éœ€è¦æ­å»ºHadoopç¯å¢ƒï¼Œå¯åŠ¨HiveæœåŠ¡å‰ç¡®ä¿HadoopæœåŠ¡å¯åŠ¨ï¼›</li><li>metastoreæœåŠ¡ç”¨äºè¿œç¨‹è®¿é—®HiveæœåŠ¡ï¼Œhiveserver2æœåŠ¡ç”¨äºJDBCè®¿é—®HiveæœåŠ¡ï¼Œåè€…ä¾èµ–äºå‰è€…ï¼›</li><li>å®‰è£…å¯åŠ¨Hiveæ—¶çš„ä¸€äº›å°é—®é¢˜ï¼šåŒ…ç‰ˆæœ¬å·®å¼‚ã€core-site.xmlæ–‡ä»¶ç­‰ï¼›</li><li>å¦‚æœé…ç½®äº†<code>hive.metastore.uris</code>å‚æ•°ï¼Œå°±ä¸€å®šè¦å¼€å¯metaserveræœåŠ¡ã€‚</li></ol></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/hive">Hive</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/big-data">BigData</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/kayhaw/kayhaw.github.io/edit/master/website/blog/blog/2022/02/19-Learning-Hive3.x-01.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2022/02/20/Learning-Hive3.x-02"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Hive 3.xå­¦ä¹ ç¬”è®°(2)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2022/02/19/WorkJournal"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">2022å¹´2æœˆä»½å·¥ä½œæ€»ç»“ Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hiveç®€ä»‹" class="table-of-contents__link">Hiveç®€ä»‹</a><ul><li><a href="#hiveæ¶æ„" class="table-of-contents__link">Hiveæ¶æ„</a></li><li><a href="#hiveç‰¹æ€§" class="table-of-contents__link">Hiveç‰¹æ€§</a></li></ul></li><li><a href="#hiveå®‰è£…" class="table-of-contents__link">Hiveå®‰è£…</a><ul><li><a href="#å®‰è£…åŒ…" class="table-of-contents__link">å®‰è£…åŒ…</a></li><li><a href="#å®‰è£…æ­¥éª¤" class="table-of-contents__link">å®‰è£…æ­¥éª¤</a></li><li><a href="#åˆè¯•hive" class="table-of-contents__link">åˆè¯•Hive</a></li><li><a href="#æ›´æ¢å…ƒæ•°æ®åº“" class="table-of-contents__link">æ›´æ¢å…ƒæ•°æ®åº“</a></li><li><a href="#å¼€å¯metastoreæœåŠ¡" class="table-of-contents__link">å¼€å¯metastoreæœåŠ¡</a></li><li><a href="#å¼€å¯hiveserver2æœåŠ¡" class="table-of-contents__link">å¼€å¯hiveserver2æœåŠ¡</a></li><li><a href="#å¯åŠ¨æœåŠ¡è„šæœ¬" class="table-of-contents__link">å¯åŠ¨æœåŠ¡è„šæœ¬</a></li></ul></li><li><a href="#æ€»ç»“" class="table-of-contents__link">æ€»ç»“</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">è¯»ä¹¦ç¬”è®°</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.zhihu.com/people/xiao-ke-dou-7" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>çŸ¥ä¹<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/kayhaw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://gitee.com/kayhaw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 ä½•è½²(Kay Haw). Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5c7121e2.js"></script>
<script src="/assets/js/main.eedec005.js"></script>
</body>
</html>